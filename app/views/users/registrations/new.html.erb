<%content_for :left do%>
	<span class="span1">
	</span>
<%end%>

<%= form_for(resource, :as => resource_name, :url => registration_path(resource_name)) do |f|%>
		<span class="span6">
			<div class="registerSectionForm">
				<% if @user.present? && @user.errors.any? %>
					<div class="fom_con" style="color:red;">
						<h2><%= pluralize(@user.errors.count, "error") %> prohibited this user from being saved:</h2>
						<ul>
						<% @user.errors.full_messages.each do |msg| %>
							<li><%= msg %></li>
						<% end %>
						</ul>
					</div>
				<% end %>
		 	 <%= hidden_field_tag :guest_token ,params[:guest_token].present? ? params[:guest_token] : @user.guest_token %>

				<div class="fom_con">
				  <div class="form_lft">
				    <div class="name_lft">First Name: *</div>
				    <div>
						<%= f.text_field :first_name, required: true,:pattern => '[A-Za-z]+' ,"maxlength"=>"35", "min" => "1","max" => "35" %>
				    </div>
				  </div>
				  <div class="form_lft">
				    <div class="name_lft">Last Name: *</div>
				    <div>
				      <%= f.text_field :last_name, required: true,:pattern => '[A-Za-z]+' ,"maxlength"=>"35", "min" => "1","max" => "35"%>
				    </div>
				  </div>
				</div>
				<div class="fom_con">
				  <div class="form_lft">
				    <div class="name_lft">Preferred Alias: *</div>
				    <div>
				      <%= f.text_field :preferred_alias, required: true, "maxlength"=>"20", "min" => "1","max" => "20","id" =>"user_alias"%>
				    </div>
				  </div>
				  <div class="form_lft">
				    <div style="color:red;" id="alias_name_error"> </div>
				  </div>

				</div>
				<div class="fom_con">
				  <div class="form_lft">
				    <div class="name_lft">Gender: *</div>
				    <div>
							<%= f.select :gender, [["Male", 1], ["Female", 2]] %>
						</div>
				  </div>
				  <div class="form_lft">
				    <div class="name_lft"> Age: *</div>
				    <div>
				    	<%= f.select :age, [["18-25", "18-25"],["26-35", "26-35"],["36-45", "36-45"],["46-55", "46-55"],["55+", "55+"]] %>
				    </div>
				  </div>
				</div>
				<div class="fom_con">
				  <div class="dob">
				    <div class="name_lft">DOB:</div>
				    <div>
				      <%= f.date_select :dob, :start_year =>  (Time.now.year - 100),:end_year=>(Time.now.year - 18), order: [:day,:month, :year], prompt: { day: 'Select Day', month: 'Select Month', year: 'Select Year'}%>
				    </div>
				  </div>
				</div>
				<div class="fom_con">
				  <div class="form_lft"> &nbsp; </div>
				  <div class="form_lft">
				    <div class="name_lft"> Email: *</div>
				    <div>
				      <%= f.email_field :email, required: true , "maxlength"=>"70", "min" => "1","max" => "70", "autocomplete" => "off",:id=>"user_email",:value=>(params[:email] ? params[:email] : @user.email )%>
				    </div>
				  </div>
				</div>
				<div class="fom_con">
				  <div class="form_lft">
				    <div class="name_lft">Address Line 1:</div>
				    <div>
				      <%= f.text_field :address_line1, "maxlength"=>"254", "min" => "1","max" => "254" %>
				    </div>
				  </div>
				  <div class="form_lft">
				    <div class="name_lft"> Confirm Email: *</div>
				    <div>
				      <input type="email" id='email_confirmation', maxlength="50" min = "1" max = "50" autocomplete="off" value="<%= @user.email %>" required=true oncopy="return false" oncut="return false" onpaste="return false">
				    </div>
				  </div>
				</div>

				<div class="fom_con">
				  <div class="form_lft">
				    <div class="name_lft">Address Line 2:</div>
				    <div>
				      <%= f.text_field :address_line2, "maxlength"=>"254", "min" => "1","max" => "254" %>
				    </div>
				  </div>
				  <div class="form_lft">
				    <div class="name_lft"> Password: *</div>
				    <div>
				      <%= f.password_field :password, required: true , "maxlength"=>"15", "min" => "8","max" => "15",:id=>"password1"%>
				    </div>
				  </div>
				</div>


			<div class="fom_con">
				  <div class="form_lft">
				    <div class="name_lft">Town:</div>
				    <div>
	            <%= f.text_field :town, "maxlength"=>"50", "min" => "1","max" => "50"%>
				    </div>
				  </div>
				  <div class="form_lft">
				    <div class="name_lft">Confirm Password: *</div>
				    <div>
				      <%= f.password_field :password_confirmation, required: true , "maxlength"=>"15", "min" => "8","max" => "15",:id=>"password2"%>
				    </div>
				  </div>

				</div>

				<div class="fom_con">
				  <div class="form_lft">
				    <div class="name_lft">Code:</div>
				    <div>
				      <%= f.text_field :postal_code , "maxlength"=>"50", "min" => "1","max" => "50"%>
				    </div>
				  </div>
				  <div class="form_lft">
				    <div class="name_lft">Secret Question: *</div>
				    <div>
							<select name="user[secret_question]" required = true>
									<option value="What was your childhood nickname?">
									  What was your childhood nickname?
									</option>
									<option value="In what city or town was your first job?">
									  In what city or town was your first job?
									</option>
									<option value="What is your mother's maiden name?">
									  What is your mother's maiden name?
									</option>
								</select>
				    </div>
				  </div>

				</div>
				<div class="fom_con">
				  <div class="form_lft">
				    <div class="name_lft">Country: *</div>
				    <div>
					    <%=country_select("user", "country",{ "Kenya" => "Kenya"})%>
				    </div>
				  </div>
				  <div class="form_lft">
				    <div class="name_lft"> Answer: *</div>
				    <div>
				      <%= f.text_field :answer, required: true, "maxlength"=>"50", "min" => "1","max" => "50"%>
				    </div>
				  </div>
				  <div class="form_lft" style="position:relative;left:250px;top:53px;">
					    <div>
				      <input type="text" id="other_type" name="other_type">
				    </div>
				  </div>
				 
				</div>
				<div class="fom_con">
				  <div class="form_lft">
				    <div class="name_lft">I Live: *</div>
				    <div>
				    	<% @city_group =
                 [
                 ["Nairobi", [["Arboretum","Arboretum"],["Buruburu","Buruburu"],
                                                                ["CBD","CBD"],
                                                                ["Dagoretti","Dagoretti"],
                                                                ["Donholm","Donholm"],
                                                                ["Eastleigh","Eastleigh"],
                                                                ["Embakasi","Embakasi"],
                                                                ["Garden Estate","Garden Estate"],
                                                                ["Gigiri","Gigiri"],
                                                                ["Highridge","Highridge"],
                                                                ["Hurlingham","Hurlingham"],
                                                                ["Industrial Area","Industrial Area"],
                                                                ["Jamhuri","Jamhuri"],
                                                                ["JKIA","JKIA"],
                                                                ["Kahawa","Kahawa"],
                                                                ["Karen","Karen"],
                                                                ["Kasarani","Kasarani"],
                                                                ["Kiambu Road","Kiambu Road"],
                                                                ["Kileleshwa","Kileleshwa"],
                                                                ["Kilimani","Kilimani"],
                                                                ["Kitengela","Kitengela"],
                                                                ["Komarock","Komarock"],
                                                                ["Langata","Langata"],
                                                                ["Lavington","Lavington"],
                                                                ["Loresho","Loresho"],
                                                                ["Lower Kabete","Lower Kabete"],
                                                                ["Madaraka","Madaraka"],
                                                                ["Milimani","Milimani"],
                                                                ["Mombasa Road","Mombasa Road"],
                                                                ["Museum Hill","Museum Hill"],
                                                                ["Muthiaga","Muthiaga"],
                                                                ["Nairobi West","Nairobi West"],
                                                                ["New Mathaiga","New Mathaiga"],
                                                                ["Ngara","Ngara"],
                                                                ["Ngong Road","Ngong Road"],
                                                                ["Ngumo","Ngumo"],
                                                                ["Parklands","Parklands"],
                                                                ["Ridgeways","Ridgeways"],
                                                                ["Riruta Satelite","Riruta Satelite"],
                                                                ["Riverside","Riverside"],
                                                                ["Rongal","Rongal"],
                                                                ["Rosslyn","Rosslyn"],
                                                                ["Roysambu","Roysambu"],
                                                                ["Ruaka","Ruaka"],
                                                                ["Runda","Runda"],
                                                                ["South B","South B"],
                                                                ["South C","South C"],
                                                                ["Spring Valley","Spring Valley"],
                                                                ["State House Crescent","State House Crescent"],
                                                                ["Thigiri","Thigiri"],
                                                                ["Thika Road","Thika Road"],
                                                                ["Umoja","Umoja"],
                                                                ["Upper Hill","Upper Hill"],
                                                                ["Valley Road","Valley Road"],
                                                                ["Westlands","Westlands"]]],
                 ["Coast", [["Bamburi","Bamburi"],["CBD","CBD"],["Diani","Diani"],["Kilifi","Kilifi"],["Lamu","Lamu"],["Malindi","Malindi"],["Mombasa","Mombasa"],["Nyali","Nyali"],["Voi","Voi"],["Watamu","Watamu"]]],
                 ["Kisumu", [["Kisumu", "Kisumu"]]],["Other",[["Other","Other"]]],]%>
				    	<%= select_tag("user[lives_in]", grouped_options_for_select(@city_group, selected_key = @user.lives_in, prompt = nil), :id=> 'user_i_live' ,:onchange => 'CheckOther();') %>

				    </div>
				  </div>
				</div>
			</div>
			</span>
			<span class="span3">
			<div class="rgh">
				<div class="image btn-file" id="avatar_image"> Upload<br>
				  Photo <%=f.file_field :avatar,:id=>'user_avatar' ,:onchange=>"readImage( this )"%>
				</div>
		        <div class="rgh_in">
				  <%= recaptcha_tags %>
				</div>
				<div class="rgh_in">
			     <%=f.check_box :accept_t_and_c , id: "field_terms", required: true, value: true%>
				  <label for="field_terms"> <%=link_to "I accept the term and conditions. *", "/terms-of-use" ,:target => "new" %></label></div>
				 <div class="rgh_in"> 
				   <%=f.check_box :is_subscribe %>
				   Subscribe to receive promotional materials from our partners
				</div>
				<div class="rgh_in">
				  <input type="submit" value="SAVE" id="save">
				</div>
			</div>
		</span>
<%end%>
<%= javascript_include_tag "registrations.js" %>


<script type="text/javascript">
$( document ).ready(function() {
	$("#other_type").hide();
});

function CheckOther()
{
  if (document.getElementById("user_i_live").value == "Other"){
        $("#other_type").show();
    }     
    else{
       $("#other_type").hide();
    }     
}

</script>
